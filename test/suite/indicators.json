[
  {
    "description": "validate with inidcators",
    "schema": {
      "family": "marc",
      "fields": {
        "000": { },
        "010": {
          "indicator1": { " ": { } },
          "indicator2": null
        },
        "210": {
          "indicator1": "title-added-entry",
          "indicator2": {
            " ": "Abbreviated key title",
            "0": "Other abbreviated title"
          }
        }
      },
      "codelists": {
        "title-added-entry": { 
          "codes": {
            "0": { "label": "No added entry" },
            "1": { "label": "Added entry" }
          }
        }
      }
    },
    "tests": [
      {
        "record": [
          { "tag": "000", "value": "..." },
          { "tag": "010", "indicator1": " ", "value": "123" },
          { "tag": "210", "indicator1": "0", "indicator2": " ", "value": "123" }
        ]
      },
      {
        "record": [
          { "tag": "010", "indicator2": "x", "value": "123" },
          { "tag": "210", "value": "123" }
        ],
        "options": { "ignore_codes": true },
        "errors": [
          {
            "error": "invalidIndicator",
            "message": "Indicator 'x' is not defined.",
            "value": "x"
          },
          {
            "error": "invalidIndicator",
            "message": "Indicator ' ' is not defined.",
            "value": " "
          }
        ]
      }
    ]
  }
]
